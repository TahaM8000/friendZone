{% extends 'info/base.html' %}
{% load static %}

{% block css %}
<link
	rel=
"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"
	type="text/css"
/>
<script src=
"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script
	src=
"https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"
	type="text/javascript"
></script>
<script src=
"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<script src=
"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.min.js"></script>
{% endblock %}



{% block content %}
</br>


<div class="container">
<h2>Line Chart</h2>
<div>
  <canvas id="myChart"></canvas>
</div>
</div>

	<script>
    const object = "{{data}}";
    // var data_city = [
    // {% for key,value in data.items %}
    // ['{{key}}', {{value}}],
    // {% endfor %}
    // ]

    var data_city = [];

    {% for key,value in data.items %}
      data_city.push("{{value}}");
    {% endfor %}

    var citynames = [
    {% for key in data %}
    '{{key}}',
    {% endfor %}
    ]

    console.log(data_city)





    var ctx = document.getElementById("myChart").getContext("2d");

  	var myChart = new Chart(ctx, {
  	type: "line",
  	data: {
  		labels: citynames,
  		datasets: [
  		{
  			label: "work load",
  			data: data_city,
  			backgroundColor: "rgba(0,0,255,0.5)",
  		},
  		],
  	},
  	});
	</script>

{% endblock %}
